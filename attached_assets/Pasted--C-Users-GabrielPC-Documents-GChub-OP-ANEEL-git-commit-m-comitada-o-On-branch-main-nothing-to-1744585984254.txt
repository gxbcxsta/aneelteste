
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>git commit -m "comitadaço"
On branch main
nothing to commit, working tree clean

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku login
heroku: Press any key to open up the browser to login or q to exit:
Opening browser to https://cli-auth.heroku.com/auth/cli/browser/48c0acc5-5729-4298-92eb-c0d2f67ec9b1?requestor=SFMyNTY.g2gDbQAAAAwyMDEuODAuMTUuODFuBgDoMmcxlgFiAAFRgA.STbxsao01ovML9CNvttE-sSpfOF2QI1nJ4zUFG3ROPA
Logging in... done
Logged in as gxbcxsta@gmail.com

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku apps
=== gxbcxsta@gmail.com Apps

aneelrestituicao
recargavivo

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku aneelrestituicao
 »   Warning: aneelrestituicao is not a heroku command.
Did you mean certs:auto? [y/n]: y
 »   Error: The following error occurred:
 »     Missing required flag app
 »   See more help with --help

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku addons:create heroku-postgresql:essential-0 -a aneelrestituicao
Creating heroku-postgresql:essential-0 on ⬢ aneelrestituicao... ~$0.007/hour (max $5/month)
Database should be available soon
postgresql-shallow-54491 is being created in the background. The app will restart when complete...
Use heroku addons:info postgresql-shallow-54491 to check creation progress
Use heroku addons:docs heroku-postgresql to view documentation

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set FOR4PAYMENTS_SECRET_KEY=ad6ab253-8ae1-454c-91f3-8ccb18933065 -a aneelrestituicaoheroku config:set FOR4PAYMENTS_PUBLIC_KEY=6d485c73-303b-466c-9344-d7b017dd1ecc -a aneelrestituicaoheroku config:set UTMIFY_API_TOKEN=XAo52G3UkJ6ePs7Aq3UqHs32hvDPZ8rjUog4 -a aneelrestituicaoheroku config:set API_TOKEN_RECEITA=268753a9b3a24819ae0f02159dee6724 -a aneelrestituicaoheroku config:set NODE_ENV=production -a aneelrestituicao
 »   Error: config:set is invalid. Must be in the format FOO=bar.

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set FOR4PAYMENTS_SECRET_KEY=ad6ab253-8ae1-454c-91f3-8ccb18933065 -a aneelrestituicao
Setting FOR4PAYMENTS_SECRET_KEY and restarting ⬢ aneelrestituicao... done, v11
FOR4PAYMENTS_SECRET_KEY: ad6ab253-8ae1-454c-91f3-8ccb18933065

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set FOR4PAYMENTS_PUBLIC_KEY=6d485c73-303b-466c-9344-d7b017dd1ecc -a aneelrestituicao
Setting FOR4PAYMENTS_PUBLIC_KEY and restarting ⬢ aneelrestituicao... done, v11
FOR4PAYMENTS_PUBLIC_KEY: 6d485c73-303b-466c-9344-d7b017dd1ecc

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set UTMIFY_API_TOKEN=XAo52G3UkJ6ePs7Aq3UqHs32hvDPZ8rjUog4 -a aneelrestituicao
Setting UTMIFY_API_TOKEN and restarting ⬢ aneelrestituicao... done, v11
UTMIFY_API_TOKEN: XAo52G3UkJ6ePs7Aq3UqHs32hvDPZ8rjUog4

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set API_TOKEN_RECEITA=268753a9b3a24819ae0f02159dee6724 -a aneelrestituicao
Setting API_TOKEN_RECEITA and restarting ⬢ aneelrestituicao... done, v11
API_TOKEN_RECEITA: 268753a9b3a24819ae0f02159dee6724

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku config:set NODE_ENV=production -a aneelrestituicao
Setting NODE_ENV and restarting ⬢ aneelrestituicao... done, v11
NODE_ENV: production

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku git:remote -a aneelrestituicao
set git remote heroku to https://git.heroku.com/aneelrestituicao.git

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>git remote -v
heroku  https://git.heroku.com/aneelrestituicao.git (fetch)
heroku  https://git.heroku.com/aneelrestituicao.git (push)

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>git push heroku main
Enumerating objects: 13, done.
Counting objects: 100% (13/13), done.
Delta compression using up to 12 threads
Compressing objects: 100% (8/8), done.
Writing objects: 100% (8/8), 4.70 KiB | 4.70 MiB/s, done.
Total 8 (delta 5), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Updated 211 paths from 0ae2764
remote: Compressing source files... done.
remote: Building source:
remote:
remote: -----> Building on the Heroku-24 stack
remote: -----> Using buildpack: heroku/nodejs
remote: -----> Node.js app detected
remote:
remote: -----> Creating runtime environment
remote:
remote:        NPM_CONFIG_LOGLEVEL=error
remote:        NODE_VERBOSE=false
remote:        NODE_ENV=production
remote:        NODE_MODULES_CACHE=true
remote:
remote: -----> Installing binaries
remote:        engines.node (package.json):   unspecified
remote:        engines.npm (package.json):    unspecified (use default)
remote:
remote:        Resolving node version 22.x...
remote:        Downloading and installing node 22.14.0...
remote:        Using default npm version: 10.9.2
remote:
remote: -----> Restoring cache
remote:        - npm cache
remote:
remote: -----> Installing dependencies
remote:        Installing node modules
remote:
remote:        added 486 packages, and audited 487 packages in 4s
remote:
remote:        63 packages are looking for funding
remote:          run `npm fund` for details
remote:
remote:        8 moderate severity vulnerabilities
remote:
remote:        To address issues that do not require attention, run:
remote:          npm audit fix
remote:
remote:        To address all issues (including breaking changes), run:
remote:          npm audit fix --force
remote:
remote:        Run `npm audit` for details.
remote:
remote: -----> Build
remote:        Running build
remote:
remote:        > rest-express@1.0.0 build
remote:        > vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
remote:
remote:        vite v5.4.14 building for production...
remote:        transforming...
remote: Browserslist: browsers data (caniuse-lite) is 6 months old. Please run:
remote:   npx update-browserslist-db@latest
remote:   Why you should do it regularly: https://github.com/browserslist/update-db#readme
remote:        ✓ 1770 modules transformed.
remote:        rendering chunks...
remote:        computing gzip size...
remote:        ../dist/public/index.html                   4.14 kB │ gzip:   1.60 kB
remote:        ../dist/public/assets/govbr-B9sTV8pj.png   15.88 kB
remote:        ../dist/public/assets/index-CX6EiJWz.css   82.09 kB │ gzip:  13.91 kB
remote:
remote: (!) Some chunks are larger than 500 kB after minification. Consider:
remote: - Using dynamic import() to code-split the application
remote: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
remote: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
remote:        ../dist/public/assets/index-Dnh6dcW9.js   688.28 kB │ gzip: 190.69 kB
remote:        ✓ built in 3.24s
remote:
remote:   dist/index.js  29.3kb
remote:
remote: ⚡ Done in 4ms
remote:
remote: -----> Caching build
remote:        - npm cache
remote:
remote: -----> Pruning devDependencies
remote:
remote:        up to date, audited 393 packages in 751ms
remote:
remote:        54 packages are looking for funding
remote:          run `npm fund` for details
remote:
remote:        1 moderate severity vulnerability
remote:
remote:        To address all issues, run:
remote:          npm audit fix
remote:
remote:        Run `npm audit` for details.
remote:        npm notice
remote:        npm notice New major version of npm available! 10.9.2 -> 11.3.0
remote:        npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.3.0
remote:        npm notice To update run: npm install -g npm@11.3.0
remote:        npm notice
remote:
remote: -----> Build succeeded!
remote: -----> Discovering process types
remote:        Procfile declares types -> web
remote:
remote: -----> Compressing...
remote:        Done: 99.5M
remote: -----> Launching...
remote:        Released v12
remote:        https://aneelrestituicao-80fe4096d657.herokuapp.com/ deployed to Heroku
remote:
remote: Verifying deploy... done.
To https://git.heroku.com/aneelrestituicao.git
   e5f262c..319f64c  main -> main

C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku logs --tail -a aneelrestituicao
2025-04-13T22:33:24.172591+00:00 app[web.1]:
2025-04-13T22:33:24.172591+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T22:33:24.216408+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T22:33:24.243248+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T22:33:24.246338+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T22:33:28.983608+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T22:33:29.497298+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T22:33:29.497328+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T22:33:29.497329+00:00 app[web.1]: ^
2025-04-13T22:33:29.497329+00:00 app[web.1]:
2025-04-13T22:33:29.497330+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T22:33:29.497337+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T22:33:29.497337+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T22:33:29.497338+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T22:33:29.497338+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T22:33:29.497338+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T22:33:29.497339+00:00 app[web.1]:
2025-04-13T22:33:29.497339+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T22:33:29.540026+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T22:33:29.561718+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T22:33:30.440198+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=c4f1ce34-1ac9-4847-99be-ac2efb77a8ca fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
2025-04-13T22:33:31.003481+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/favicon.ico" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=25afb9aa-14ef-4657-a6b2-65690bd537a8 fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
2025-04-13T22:55:21.636280+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T22:55:27.071736+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T22:55:27.599416+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T22:55:27.599452+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T22:55:27.599452+00:00 app[web.1]: ^
2025-04-13T22:55:27.599453+00:00 app[web.1]:
2025-04-13T22:55:27.599453+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T22:55:27.599462+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T22:55:27.599462+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T22:55:27.599462+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T22:55:27.599463+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T22:55:27.599463+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T22:55:27.599463+00:00 app[web.1]:
2025-04-13T22:55:27.599464+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T22:55:27.658460+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T22:55:27.679979+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:08:35.122390+00:00 app[api]: Release v11 created by user heroku-postgresql@addons.heroku.com
2025-04-13T23:08:35.122390+00:00 app[api]: @ref:postgresql-shallow-54491 completed provisioning, setting HEROKU_POSTGRESQL_CYAN_URL. by user heroku-postgresql@addons.heroku.com
2025-04-13T23:08:35.350367+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:08:41.064720+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:08:41.602369+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T23:08:41.602396+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T23:08:41.602396+00:00 app[web.1]: ^
2025-04-13T23:08:41.602396+00:00 app[web.1]:
2025-04-13T23:08:41.602397+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T23:08:41.602402+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T23:08:41.602402+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T23:08:41.602402+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T23:08:41.602403+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T23:08:41.602403+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T23:08:41.602403+00:00 app[web.1]:
2025-04-13T23:08:41.602404+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:08:41.642467+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T23:08:41.670970+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:08:41.674662+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:08:46.566844+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:08:47.115687+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T23:08:47.115703+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T23:08:47.115703+00:00 app[web.1]: ^
2025-04-13T23:08:47.115703+00:00 app[web.1]:
2025-04-13T23:08:47.115705+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T23:08:47.115719+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T23:08:47.115727+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T23:08:47.115730+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T23:08:47.115731+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T23:08:47.115731+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T23:08:47.115733+00:00 app[web.1]:
2025-04-13T23:08:47.115735+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:08:47.164801+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T23:08:47.191437+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:10:32.000000+00:00 app[api]: Build started by user gxbcxsta@gmail.com
2025-04-13T23:10:59.814259+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:11:04.814243+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:11:05.514627+00:00 app[web.1]: Heroku PostgreSQL URL detectada, convertendo para formato Neon...
2025-04-13T23:11:05.514943+00:00 app[web.1]: URL do banco de dados atualizada para compatibilidade com Neon
2025-04-13T23:11:05.515094+00:00 app[web.1]: Iniciando servidor em modo: PRODUÇÃO
2025-04-13T23:11:05.515162+00:00 app[web.1]: Build já existe. Iniciando servidor...
2025-04-13T23:11:05.579180+00:00 app[web.1]: node:internal/modules/package_json_reader:268
2025-04-13T23:11:05.579181+00:00 app[web.1]: throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
2025-04-13T23:11:05.579182+00:00 app[web.1]: ^
2025-04-13T23:11:05.579182+00:00 app[web.1]:
2025-04-13T23:11:05.579183+00:00 app[web.1]: Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/dist/index.js
2025-04-13T23:11:05.579183+00:00 app[web.1]: at Object.getPackageJSONURL (node:internal/modules/package_json_reader:268:9)
2025-04-13T23:11:05.579183+00:00 app[web.1]: at packageResolve (node:internal/modules/esm/resolve:768:81)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at moduleResolve (node:internal/modules/esm/resolve:854:18)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at defaultResolve (node:internal/modules/esm/resolve:984:11)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:685:12)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at #cachedDefaultResolve (node:internal/modules/esm/loader:634:25)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at ModuleLoader.resolve (node:internal/modules/esm/loader:617:38)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:273:38)
2025-04-13T23:11:05.579186+00:00 app[web.1]: at ModuleJob._link (node:internal/modules/esm/module_job:135:49) {
2025-04-13T23:11:05.579186+00:00 app[web.1]: code: 'ERR_MODULE_NOT_FOUND'
2025-04-13T23:11:05.579186+00:00 app[web.1]: }
2025-04-13T23:11:05.579194+00:00 app[web.1]:
2025-04-13T23:11:05.579194+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:11:05.596223+00:00 app[web.1]: Servidor encerrado com código: 1
2025-04-13T23:11:05.639118+00:00 heroku[web.1]: Process exited with status 1
Running run npm run db:push on ⬢ aneelrestituicao... up, run.1743
/bin/bash: line 1: run: command not found
^C
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku run npm run db:push -a aneelrestituicao
Running run npm run db:push on ⬢ aneelrestituicao...
C:\Users\GabrielPC\Documents\GChub\OP\ANEEL>heroku logs --tail
2025-04-13T22:33:29.497329+00:00 app[web.1]: ^
2025-04-13T22:33:29.497329+00:00 app[web.1]:
2025-04-13T22:33:29.497330+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T22:33:29.497337+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T22:33:29.497337+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T22:33:29.497338+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T22:33:29.497338+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T22:33:29.497338+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T22:33:29.497339+00:00 app[web.1]:
2025-04-13T22:33:29.497339+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T22:33:29.540026+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T22:33:29.561718+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T22:33:30.440198+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=c4f1ce34-1ac9-4847-99be-ac2efb77a8ca fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
2025-04-13T22:33:31.003481+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/favicon.ico" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=25afb9aa-14ef-4657-a6b2-65690bd537a8 fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
2025-04-13T22:55:21.636280+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T22:55:27.071736+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T22:55:27.599416+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T22:55:27.599452+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T22:55:27.599452+00:00 app[web.1]: ^
2025-04-13T22:55:27.599453+00:00 app[web.1]:
2025-04-13T22:55:27.599453+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T22:55:27.599462+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T22:55:27.599462+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T22:55:27.599462+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T22:55:27.599463+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T22:55:27.599463+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T22:55:27.599463+00:00 app[web.1]:
2025-04-13T22:55:27.599464+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T22:55:27.658460+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T22:55:27.679979+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:08:35.122390+00:00 app[api]: Release v11 created by user heroku-postgresql@addons.heroku.com
2025-04-13T23:08:35.122390+00:00 app[api]: @ref:postgresql-shallow-54491 completed provisioning, setting HEROKU_POSTGRESQL_CYAN_URL. by user heroku-postgresql@addons.heroku.com
2025-04-13T23:08:35.350367+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:08:41.064720+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:08:41.602369+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T23:08:41.602396+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T23:08:41.602396+00:00 app[web.1]: ^
2025-04-13T23:08:41.602396+00:00 app[web.1]:
2025-04-13T23:08:41.602397+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T23:08:41.602402+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T23:08:41.602402+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T23:08:41.602402+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T23:08:41.602403+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T23:08:41.602403+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T23:08:41.602403+00:00 app[web.1]:
2025-04-13T23:08:41.602404+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:08:41.642467+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T23:08:41.670970+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:08:41.674662+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:08:46.566844+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:08:47.115687+00:00 app[web.1]: file:///app/server.js:2
2025-04-13T23:08:47.115703+00:00 app[web.1]: const { spawn } = require('child_process');
2025-04-13T23:08:47.115703+00:00 app[web.1]: ^
2025-04-13T23:08:47.115703+00:00 app[web.1]:
2025-04-13T23:08:47.115705+00:00 app[web.1]: ReferenceError: require is not defined in ES module scope, you can use import instead
2025-04-13T23:08:47.115719+00:00 app[web.1]: This file is being treated as an ES module because it has a '.js' file extension and '/app/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
2025-04-13T23:08:47.115727+00:00 app[web.1]: at file:///app/server.js:2:19
2025-04-13T23:08:47.115730+00:00 app[web.1]: at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
2025-04-13T23:08:47.115731+00:00 app[web.1]: at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
2025-04-13T23:08:47.115731+00:00 app[web.1]: at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
2025-04-13T23:08:47.115733+00:00 app[web.1]:
2025-04-13T23:08:47.115735+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:08:47.164801+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T23:08:47.191437+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:10:32.000000+00:00 app[api]: Build started by user gxbcxsta@gmail.com
2025-04-13T23:10:59.577994+00:00 app[api]: Release v12 created by user gxbcxsta@gmail.com
2025-04-13T23:10:59.577994+00:00 app[api]: Deploy 319f64c8 by user gxbcxsta@gmail.com
2025-04-13T23:10:59.814259+00:00 heroku[web.1]: State changed from crashed to starting
2025-04-13T23:11:02.000000+00:00 app[api]: Build succeeded
2025-04-13T23:11:04.814243+00:00 heroku[web.1]: Starting process with command `node server.js`
2025-04-13T23:11:05.514627+00:00 app[web.1]: Heroku PostgreSQL URL detectada, convertendo para formato Neon...
2025-04-13T23:11:05.514943+00:00 app[web.1]: URL do banco de dados atualizada para compatibilidade com Neon
2025-04-13T23:11:05.515094+00:00 app[web.1]: Iniciando servidor em modo: PRODUÇÃO
2025-04-13T23:11:05.515162+00:00 app[web.1]: Build já existe. Iniciando servidor...
2025-04-13T23:11:05.579180+00:00 app[web.1]: node:internal/modules/package_json_reader:268
2025-04-13T23:11:05.579181+00:00 app[web.1]: throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
2025-04-13T23:11:05.579182+00:00 app[web.1]: ^
2025-04-13T23:11:05.579182+00:00 app[web.1]:
2025-04-13T23:11:05.579183+00:00 app[web.1]: Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/dist/index.js
2025-04-13T23:11:05.579183+00:00 app[web.1]: at Object.getPackageJSONURL (node:internal/modules/package_json_reader:268:9)
2025-04-13T23:11:05.579183+00:00 app[web.1]: at packageResolve (node:internal/modules/esm/resolve:768:81)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at moduleResolve (node:internal/modules/esm/resolve:854:18)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at defaultResolve (node:internal/modules/esm/resolve:984:11)
2025-04-13T23:11:05.579184+00:00 app[web.1]: at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:685:12)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at #cachedDefaultResolve (node:internal/modules/esm/loader:634:25)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at ModuleLoader.resolve (node:internal/modules/esm/loader:617:38)
2025-04-13T23:11:05.579185+00:00 app[web.1]: at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:273:38)
2025-04-13T23:11:05.579186+00:00 app[web.1]: at ModuleJob._link (node:internal/modules/esm/module_job:135:49) {
2025-04-13T23:11:05.579186+00:00 app[web.1]: code: 'ERR_MODULE_NOT_FOUND'
2025-04-13T23:11:05.579186+00:00 app[web.1]: }
2025-04-13T23:11:05.579194+00:00 app[web.1]:
2025-04-13T23:11:05.579194+00:00 app[web.1]: Node.js v22.14.0
2025-04-13T23:11:05.596223+00:00 app[web.1]: Servidor encerrado com código: 1
2025-04-13T23:11:05.639118+00:00 heroku[web.1]: Process exited with status 1
2025-04-13T23:11:05.663535+00:00 heroku[web.1]: State changed from starting to crashed
2025-04-13T23:12:20.284561+00:00 heroku[run.1743]: State changed from starting to up
2025-04-13T23:12:23.300183+00:00 heroku[run.1743]: Process exited with status 127
2025-04-13T23:12:23.322999+00:00 heroku[run.1743]: State changed from up to complete
2025-04-13T23:12:49.110558+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=ba064a48-93ff-4f09-9dfa-980dc4266b2f fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
2025-04-13T23:12:49.406592+00:00 heroku[router]: at=error code=H10 desc="App crashed" method=GET path="/favicon.ico" host=aneelrestituicao-80fe4096d657.herokuapp.com request_id=69416676-6d51-4e43-ae08-08a8c06a9dc2 fwd="201.80.15.81" dyno= connect= service= status=503 bytes= protocol=https
